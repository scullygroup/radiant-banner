<% include_javascript 'dragdrop' %>
<% include_stylesheet 'admin/application' %>

<div id="work">
  <h1><%=h @banner.title %></h1>
  
  <p>
    <strong>Banner URL: </strong><%= @banner.url %>
  </p>

	<div class="content-links">
		<ul>                                                                        
			<li><%= link_to "#{image_tag ("admin/icons-small/edit.png", :border =>0, :title => 'Edit')}Edit", "/admin/banners/edit/#{params[:id]}" %></li>
			<li><%= link_to "#{image_tag ("admin/icons-small/delete.png", :border =>0, :title => 'Delete')}Delete", "/admin/banners/remove/#{params[:id]}", :confirm => "Are you sure?" %></li>
		</ul>                                                                       
	</div>                                                                             
</div><!-- end work -->                                                                
                                                                                       
<div id="images">                                                                      
	<% form_for (:image, :url => '/admin/images/create', :html => {:multipart => true}) do |f| %>                                       
			<%= f.hidden_field :banner_id, :value => @banner.id %>                   
		  <p>Upload a Banner Image</p>
		  <p>Select the type of banner: <%= f.radio_button :placement, "header" %>Header/Footer Banner <%= f.radio_button :placement, "sidebar" %> Sidebar Banner</p>                                       
			<%= file_column_field "image", "location" %><%= f.submit "Upload" %>
		  </p>                                                                         
	<% end %>                                                                          

<p><em>Arrange the thumbnails by dragging them in the order you wish.</em></p>

	<ul id="image-list">                               
		<% @banner.images.each do |image| %>                                          
	  		<li id="image_<%= image.id %>" class="position_<%= image.position %>">
				<%= link_to "#{image_tag("admin/icons-small/delete.png")}", "/admin/images/remove/#{image.id}", :confirm => "Are you sure?" %><br />
				<%= image_tag url_for_file_column(image, "location") %>
			</li>
		<% end %>
	</ul>
	<%= sortable_element 'image-list',
		:url => "/admin/banners/update_positions/#{params[:id]}",
		:constraint => false,
		:complete => visual_effect(:highlight, 'image-list')
	%>
</div><!-- end images -->